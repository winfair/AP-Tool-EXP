/* App layout: full-bleed map */
:root {
  --bg: #040607;
  --panel: #0a0f0a;
  --text: #c8ffd0;
  --dim: #7ee39a;
  --accent: #1b5120;
  --green: #2aff2a;
  --amber: #ffc04d;
  --danger: #ff6b6b;
}

* { box-sizing: border-box; }
html, body, #app { height: 100%; margin: 0; padding: 0; background: var(--bg); color: var(--text); }
#map {
  position: fixed;
  inset: 0;
}

/* Heading arrow in the center */
#headingArrow {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(0deg);
  width: 64px;
  height: 64px;
  pointer-events: none;
  opacity: 0.9;
  filter: drop-shadow(0 0 6px rgba(0,0,0,0.5));
}
#headingArrow svg { width: 100%; height: 100%; }
#headingArrow polygon { fill: var(--green); }
#headingArrow line { stroke: var(--green); }

/* Floating controls stack */
.controls {
  position: fixed;
  left: env(safe-area-inset-left, 12px);
  right: auto;
  top: calc(env(safe-area-inset-top, 12px) + 12px);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 10;
}
.pill {
  background: rgba(10, 15, 10, 0.8);
  color: var(--text);
  border: 1px solid var(--accent);
  padding: 10px 12px;
  border-radius: 999px;
  font-size: 14px;
  backdrop-filter: blur(6px);
}
.pill:active { transform: translateY(1px); }

/* Waypoints panel (bottom sheet style) */
.panel {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  background: rgba(10, 15, 10, 0.96);
  border-top: 1px solid var(--accent);
  border-radius: 16px 16px 0 0;
  padding: 12px;
  z-index: 20;
  max-height: 58vh;
  overflow: auto;
  box-shadow: 0 -8px 24px rgba(0,0,0,0.4);
}
.panel.hidden { display: none; }
.panel header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 8px;
}
.panel h3 { margin: 0; font-size: 16px; color: var(--dim); }
.panel header button {
  background: transparent; color: var(--text);
  border: 1px solid var(--accent);
  border-radius: 10px; padding: 6px 10px;
}

#wpForm { display: grid; gap: 8px; margin-bottom: 8px; }
#wpForm label { display: grid; gap: 6px; font-size: 13px; color: var(--dim); }
#wpForm input {
  background: #0f160f; color: var(--text);
  border: 1px solid #1e2a1f; border-radius: 10px;
  padding: 10px 12px; font-size: 14px;
}
.row { display: flex; gap: 8px; }
button.primary {
  background: #143d19; color: var(--text);
  border: 1px solid var(--accent); border-radius: 10px;
  padding: 10px 12px;
}
button.danger {
  background: #3d1414; color: var(--text);
  border: 1px solid var(--danger); border-radius: 10px;
  padding: 10px 12px;
}

/* Waypoint list */
#wpList { list-style: none; margin: 0; padding: 0; display: grid; gap: 6px; }
#wpList li { margin: 0; }
#wpList li.empty { color: #9bb89f; font-style: italic; }
.wp-item {
  width: 100%;
  text-align: left;
  background: #0f160f; color: var(--text);
  border: 1px solid #1e2a1f; border-radius: 10px;
  padding: 10px 12px; font-size: 14px;
}

/* Current location marker */
.me-marker {
  width: 18px; height: 18px;
  border-radius: 50%;
  background: var(--green);
  border: 2px solid #0a0f0a;
  box-shadow: 0 0 0 3px rgba(42,255,42,0.25), 0 0 10px rgba(0,0,0,0.5);
}

/* MapLibre attribution tweak on mobile */
.maplibregl-ctrl-bottom-right,
.maplibregl-ctrl-bottom-left {
  margin-bottom: env(safe-area-inset-bottom, 0);
}
