:root{
  --bg:#0b0f16;
  --panel:#0e1420;
  --accent:#00e0ff;
  --accent2:#66ff99;
  --warn:#ffcc00;
  --danger:#ff3b3b;
  --text:#d7e1ee;
  --muted:#7b8796;
  --grid:#1b2435;
  --ring:#1a2b4a;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family:system-ui,Segoe UI,Inter,Arial,sans-serif; color:var(--text);
  background: radial-gradient(1200px 800px at 80% 10%, #102038 0%, var(--bg) 55%);
}
h1{ margin:0; font-weight:700; letter-spacing:.5px; }
.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; background:linear-gradient(180deg, #0f1726, #0b0f16);
  border-bottom:1px solid #10192c; position:sticky; top:0; z-index:5;
}
.badges{ display:flex; gap:8px; flex-wrap:wrap; }
.badge{
  padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid var(--grid);
  background:#0f1521; color:var(--muted);
}
.badge.ok{ color:var(--accent2); border-color:#174a3a; }
.badge.warn{ color:var(--warn); border-color:#4a4317; }
.badge.mute{ color:var(--muted); }

.layout{
  display:grid; grid-template-columns: 1fr; gap:10px; padding:10px;
}
.hud-panel{
  position:relative; height:48vh; min-height:280px; background:linear-gradient(180deg, #0c111b 0%, #0a0d15 100%);
  border:1px solid #10192c; border-radius:12px; overflow:hidden;
  box-shadow: inset 0 0 60px rgba(0,224,255,.08);
}
#hud3d{ width:100%; height:100%; display:block; }
.overlay{
  position:absolute; inset:0; pointer-events:none; display:flex; align-items:flex-start; justify-content:space-between; padding:8px;
}
.readouts{ font-size:12px; color:#9cb2cd; display:grid; gap:2px; }
.control-panel{
  display:grid; gap:12px; background:linear-gradient(180deg, #0d1320, #0b101a);
  border:1px solid #10192c; border-radius:12px; padding:12px;
}
.group{ display:grid; gap:8px; background:rgba(16,25,44,.35); border:1px solid #142038; border-radius:10px; padding:10px; }
.row{ display:flex; gap:8px; align-items:center; }
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:6px; }
.grid3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:6px; }
button, select, input{
  background:#0e1626; color:var(--text); border:1px solid #1d2a45; border-radius:8px; padding:8px 10px; font-size:14px;
}
button:hover{ border-color:#27406c; }
button.primary{ background:#0c2230; border-color:#0f6e8a; color:#bdefff; box-shadow:0 0 12px rgba(0,224,255,.12) inset; }
button.danger{ border-color:#7a1d2a; color:#ffb7c0; }
.profile-panel{
  margin:10px; background:#0b101a; border:1px solid #10192c; border-radius:12px; padding:10px;
}
#profileCanvas{ width:100%; height:auto; display:block; background:linear-gradient(180deg, #0b0f16, #0a0d15); border-radius:8px; }
.profile-legend{ display:flex; gap:8px; padding:6px 0; font-size:12px; color:#9cb2cd; align-items:center; flex-wrap:wrap; }
.chip{ padding:4px 8px; border-radius:999px; border:1px solid #27324b; background:#0f1522; }
.chip.terrain{ color:#a9d2ff; }
.chip.los{ color:#b0ffcf; }
.chip.blocked{ color:#ffb6b6; }
.map{ width:100%; height:55vh; min-height:340px; }
#mapDialog{
  max-width:960px; width:96vw; border:1px solid #203050; background:#0c1320; color:var(--text);
  padding:0; border-radius:12px;
}
.map-toolbar{
  display:flex; gap:8px; padding:8px; align-items:center; border-bottom:1px solid #18243d;
  background:linear-gradient(180deg,#0e1728,#0a1020);
}
.map-form{ padding:10px; border-top:1px solid #18243d; background:#0c1320; }
.hint{ color:#8fa6c6; font-size:12px; margin-left:auto; }
.toast{ position:fixed; left:50%; transform:translateX(-50%); bottom:16px; background:#0e1626; border:1px solid #24406a; padding:10px 12px; border-radius:8px; color:#cbe7ff; z-index:100; }
/* Mobile tweaks */
@media (min-width: 900px){
  .layout{ grid-template-columns: 58% 42%; }
  .hud-panel{ height:58vh; }
}
